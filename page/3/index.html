
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>sharp bites</title>
  <meta name="author" content="alberto">

  
  <meta name="description" content="This is part 3 of the AltNerdDinner Series. One of the things I always disliked the most when exploring NHibernate was the need of declaring all the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.sharpbites.com/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="sharp bites" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3088208-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">sharp bites</a></h1>
  
    <h2>standing on the shoulders of giants</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.sharpbites.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/10/14/altnerddinner-part-3-introducing-fluent/">AltNerdDinner: Part 3. Introducing Fluent NHibernate. Mapping, the easy way</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-14T00:00:00+02:00" pubdate data-updated="true">Oct 14<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p><em>This is part 3 of the <a href="http://sharpbites.blogspot.com/2009/08/introducing-altnerddinner.html">AltNerdDinner</a> Series.</em></p>  <p>One of the things I always disliked the most when exploring NHibernate was the need of declaring all the mappings in XMhelL. And don&#8217;t know about you, but that&#8217;s not something I want to be spending my time creating, modifying, hand-refactoring or debugging tedious tons of this crap.</p>  <p>Fast forward to 2008 and say hello to <a href="http://fluentnhibernate.org/">Fluent NHibernate</a>. (And don&#8217;t forget to thank <a href="http://codebetter.com/blogs/jeremy.miller/">Jeremy Miller</a>, <a href="http://blog.jagregory.com/">James Gregory</a> <a href="http://code.google.com/p/fluent-nhibernate/people/list"><em>et al</em></a>!). It is basically a way to programmatically declare the mappings, allowing you to go from this:</p>  <pre class="code"><span style="color: blue">&lt;?</span><span style="color: #a31515">xml </span><span style="color: red">version</span><span style="color: blue">=</span>&quot;<span style="color: blue">1.0</span>&quot; <span style="color: red">encoding</span><span style="color: blue">=</span>&quot;<span style="color: blue">utf-8</span>&quot; <span style="color: blue">?&gt;  <br />&lt;</span><span style="color: #a31515">hibernate-mapping </span><span style="color: red">xmlns</span><span style="color: blue">=</span>&quot;<span style="color: blue">urn:nhibernate-mapping-2.2</span>&quot;  <br />  <span style="color: red">namespace</span><span style="color: blue">=</span>&quot;<span style="color: blue">QuickStart</span>&quot; <span style="color: red">assembly</span><span style="color: blue">=</span>&quot;<span style="color: blue">QuickStart</span>&quot;<span style="color: blue">&gt;  <br /> <br />  &lt;</span><span style="color: #a31515">class </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Cat</span>&quot; <span style="color: red">table</span><span style="color: blue">=</span>&quot;<span style="color: blue">Cat</span>&quot;<span style="color: blue">&gt;  <br />    &lt;</span><span style="color: #a31515">id </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Id</span>&quot;<span style="color: blue">&gt;  <br />      &lt;</span><span style="color: #a31515">generator </span><span style="color: red">class</span><span style="color: blue">=</span>&quot;<span style="color: blue">identity</span>&quot; <span style="color: blue">/&gt;  <br />    &lt;/</span><span style="color: #a31515">id</span><span style="color: blue">&gt;  <br /> <br />    &lt;</span><span style="color: #a31515">property </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Name</span>&quot;<span style="color: blue">&gt;  <br />      &lt;</span><span style="color: #a31515">column </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Name</span>&quot; <span style="color: red">length</span><span style="color: blue">=</span>&quot;<span style="color: blue">16</span>&quot; <span style="color: red">not-null</span><span style="color: blue">=</span>&quot;<span style="color: blue">true</span>&quot; <span style="color: blue">/&gt;  <br />    &lt;/</span><span style="color: #a31515">property</span><span style="color: blue">&gt;  <br />    &lt;</span><span style="color: #a31515">property </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Sex</span>&quot; <span style="color: blue">/&gt;  <br />    &lt;</span><span style="color: #a31515">many-to-one </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Mate</span>&quot; <span style="color: blue">/&gt;  <br />    &lt;</span><span style="color: #a31515">bag </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Kittens</span>&quot;<span style="color: blue">&gt;  <br />      &lt;</span><span style="color: #a31515">key </span><span style="color: red">column</span><span style="color: blue">=</span>&quot;<span style="color: blue">mother_id</span>&quot; <span style="color: blue">/&gt;  <br />        &lt;</span><span style="color: #a31515">one-to-many </span><span style="color: red">class</span><span style="color: blue">=</span>&quot;<span style="color: blue">Cat</span>&quot; <span style="color: blue">/&gt;  <br />      &lt;/</span><span style="color: #a31515">bag</span><span style="color: blue">&gt;  <br />  &lt;/</span><span style="color: #a31515">class</span><span style="color: blue">&gt;  <br />&lt;/</span><span style="color: #a31515">hibernate-mapping</span><span style="color: blue">&gt;</span></pre><br /><br /><p>To this:</p><br /><br /><pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">CatMap </span>: ClassMap&lt;Cat&gt;<br />{<br />    <span style="color: blue">public </span>CatMap()<br />    {<br />        Id(x =&gt; x.Id);<br />        Map(x =&gt; x.Name)<br />          .Length(16)<br />          .Not.Nullable();<br />        Map(x =&gt; x.Sex);<br />        References(x =&gt; x.Mate);<br />        HasMany(x =&gt; x.Kittens);<br />    }<br />}</pre><br /><br /><p>What it gives you, you may ask? Compile-time checks and refactoring support, for a start.</p><br /><br /><h4>But wait, there is more!</h4><br /><br /><p>Fluent NHibernate is built with <a href="http://en.wikipedia.org/wiki/Convention_over_Configuration">Convention over Configuration</a> in mind. So, if you adhere to it, you can greatly reduce the amount of mapping needed, by virtue of <a href="http://wiki.fluentnhibernate.org/Auto_mapping">auto mapping</a>. And you can combine that with explicit ClassMap mappings, like the one above, they are not mutually exclusive.</p><br /><br /><p>Mapping your domain can be as simple as:</p><br /><br /><pre class="code">AutoMap.AssemblyOf&lt;Product&gt;();</pre><br /><br /><h4>And if you call within the next 5 minutes we throw in Conventions for free!</h4><br /><br /><p>&quot;Ok, that might be great for a greenfield project, but I am working in a big brown piece of &#8230; code&quot;, I hear you saying. So you may not have the choice to call your Id&#8217;s &quot;Id&quot; or name your tables exactly after your classes. <a href="http://wiki.fluentnhibernate.org/Conventions">Conventions</a> can greatly help here, allowing you to define your own conventions. That is, if your database naming follows any convention at all, and wasn&#8217;t defined by a bunch of monkeys typing at random.</p><br /><br /><p>For further info, check the <a href="http://fluentnhibernate.org/">site</a>, <a href="http://wiki.fluentnhibernate.org/">wiki</a> and <a href="http://groups.google.com/group/fluent-nhibernate">mailing list</a>.</p><br /><br /><h4>AltNerdDinner&#8217;s mappings</h4><br /><br /><p>Here are the mapping files for AltNerdDinner.</p><br /><br /><pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">DinnerMap </span>: <span style="color: #2b91af">ClassMap</span>&lt;<span style="color: #2b91af">Dinner</span>&gt;<br />{<br />    <span style="color: blue">public </span>DinnerMap()<br />    {<br />        Id(x =&gt; x.DinnerID);<br />        Map(x =&gt; x.Address).Not.Nullable();<br />        Map(x =&gt; x.ContactPhone).Not.Nullable();<br />        Map(x =&gt; x.Country).Not.Nullable();<br />        Map(x =&gt; x.Description).Not.Nullable();<br />        Map(x =&gt; x.EventDate).Not.Nullable();<br />        Map(x =&gt; x.HostedBy).Not.Nullable();<br />        Map(x =&gt; x.Latitude).Not.Nullable();<br />        Map(x =&gt; x.Longitude).Not.Nullable();<br />        Map(x =&gt; x.Title).Not.Nullable();<br />        HasMany(x =&gt; x.RSVPs).Cascade.AllDeleteOrphan();<br />    }<br />}</pre><br /><a href="http://11011.net/software/vspaste"></a><br /><br /><pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">RSVPMap </span>: <span style="color: #2b91af">ClassMap</span>&lt;<span style="color: #2b91af">RSVP</span>&gt;<br />{<br />    <span style="color: blue">public </span>RSVPMap()<br />    {<br />        Id(x =&gt; x.RsvpId);<br />        Map(x =&gt; x.AttendeeName).Not.Nullable();<br />        References(r =&gt; r.Dinner).<strong>Nullable()</strong>;            <br />    }<br />}</pre><br /><br /><p><a href="http://11011.net/software/vspaste"></a>One gotcha that had me fiddling around for a while was that Nullable part on the Dinner reference in RSVPMap. If you don&#8217;t set it to nullable, you&#8217;ll get an exception when trying to persist the entities. And even if you set it to nullable, you&#8217;ll find out, NHibernate executes two queries to insert the RSVP.</p><br /><br /><blockquote><br />  <p>&#160;&#160;&#160; INSERT INTO&#160; [RSVP] (AttendeeName, Dinner_id) VALUES (@p0, @p1); <br />    <br />&#160;&#160;&#160; select SCOPE_IDENTITY(); <br /><br />    <br />&#160;&#160;&#160; @p0 = &#8216;alberto&#8217;, <br /><br />    <br />&#160;&#160;&#160; @p1 = 9 <br /><br />    <br />&#160;&#160;&#160; UPDATE [RSVP] SET Dinner_id = @p0 WHERE RsvpId = @p1; @p0 = 9, @p1 = 21</p><br /></blockquote><br /><br /><p>You can find <a href="http://nhforge.org/doc/nh/en/index.html#example-parentchild-bidir">more info</a> about this behavior in the <a href="http://nhforge.org/">official nhibernate site</a>.</p><br /><br /><p>So, what I have done instead is to set the RSVP as the managing part of the relationship, changing it back to not nullable and using Inverse() on the Dinner&#8217;s mapping side.</p><br /><a href="http://11011.net/software/vspaste"></a><br /><br /><p>It is not possible to make the &quot;many part&quot; responsible for this. What this means is that we have to persist our entities calling:</p><br /><br /><pre class="code"><span style="color: #2b91af">Dinner </span>dinner = _dinnerRepository.GetDinner(id);<br /><span style="color: blue">var </span>rsvp = <span style="color: blue">new </span><span style="color: #2b91af">RSVP</span>{ AttendeeName = username };<br />rsvp.Dinner = dinner;<br />dinner.Rsvps.Add(rsvp);<br />_dinnerRepository.Save(dinner);</pre><br /><br /><p><a href="http://11011.net/software/vspaste"></a>That&#8217;s not very ideal, so I have included an AddRsvp() method in Dinner to handle that. Now I have:</p><br /><br /><pre class="code"><span style="color: #2b91af">Dinner </span>dinner = _dinnerRepository.GetDinner(id);<br />dinner.AddRsvp(<span style="color: blue">new </span><span style="color: #2b91af">RSVP</span>{ AttendeeName = User.Identity.Name });<br />_dinnerRepository.Save(dinner);</pre><br /><br /><p>Much cleaner! In order to avoid confusion when adding an RSVO, I have changed the type of the collection to an IEnumerable&lt;RSVP&gt;, so that the collection cannot be modified directly, but only by means of Dinner (which is a good practice if you want to follow DDD, anyway). Because of that, I had to modified the DinnerMap to use a backing field for it. In the future I might revisit this relationship to include the User in the domain again and change it to a less CRUD-y style. You can read more on <a href="http://www.udidahan.com/2008/02/15/from-crud-to-domain-driven-fluency/">Domain-Driven fluency</a> from <a href="http://www.udidahan.com/2008/02/15/from-crud-to-domain-driven-fluency/">Udi Dahan</a>.</p><br /><br /><p>Anyway, here is the final mapping I have come up with:</p><br /><br /><pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">RSVPMap </span>: <span style="color: #2b91af">ClassMap</span>&lt;<span style="color: #2b91af">RSVP</span>&gt;<br />{<br />    <span style="color: blue">public </span>RSVPMap()<br />    {<br />        Id(x =&gt; x.RsvpId);<br />        Map(x =&gt; x.AttendeeName).Not.Nullable();<br />        References(r =&gt; r.Dinner).Not.Nullable();            <br />    }<br />}</pre><br /><a href="http://11011.net/software/vspaste"></a><br /><br /><pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">DinnerMap </span>: <span style="color: #2b91af">ClassMap</span>&lt;<span style="color: #2b91af">Dinner</span>&gt;<br />{<br />    <span style="color: blue">public </span>DinnerMap()<br />    {<br />        Id(x =&gt; x.DinnerID);<br />        Map(x =&gt; x.Address).Not.Nullable();<br />        Map(x =&gt; x.ContactPhone).Not.Nullable();<br />        Map(x =&gt; x.Country).Not.Nullable();<br />        Map(x =&gt; x.Description).Not.Nullable();<br />        Map(x =&gt; x.EventDate).Not.Nullable();<br />        Map(x =&gt; x.HostedBy).Not.Nullable();<br />        Map(x =&gt; x.Latitude).Not.Nullable();<br />        Map(x =&gt; x.Longitude).Not.Nullable();<br />        Map(x =&gt; x.Title).Not.Nullable();<br />        HasMany(x =&gt; x.Rsvps).Access.CamelCaseField(<span style="color: #2b91af">Prefix</span>.Underscore)<br />            .Inverse().Cascade.AllDeleteOrphan();<br />    }<br />}</pre>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/10/06/altnerddinner-part-2-rich-man/">AltNerdDinner: Part 2. Rich Man&#8217;s Dependency Injection</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-06T00:00:00+02:00" pubdate data-updated="true">Oct 6<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p></p>  <p><em>This is part 2 of the <a href="http://sharpbites.blogspot.com/2009/08/introducing-altnerddinner.html">AltNerdDinner</a> Series.</em></p>  <p>The classes in <a href="http://nerddinner.codeplex.com/">NerdDinner</a> use <a href="http://martinfowler.com/articles/injection.html">dependency injection</a> (<a href="http://martinfowler.com/articles/injection.html#ConstructorInjectionWithPicocontainer">constructor injection</a>, to be more precise), which is a form of <a href="http://martinfowler.com/bliki/InversionOfControl.html">Inversion of Control</a> that allows you to break the dependencies between classes, minimizing coupling (i.e. a Good Thing &#8482;). Instead having classes with direct dependencies&#160; on other classes, and instantiating them directly, classes are dependent on interfaces, and the concrete implementation is injected via the constructor, in this case, or via a setter in the case of <a href="http://martinfowler.com/articles/injection.html#SetterInjectionWithSpring">setter injection</a>. Constructor injection is preferred for required dependencies, as it makes dependencies more explicit, and setter injection is usually reserved for optional dependencies.</p>  <p>Using this technique, the responsibility of providing the dependencies is delegated to the calling object (hence the term Inversion of Control).</p>  <h4>Poor Man&#8217;s Dependency Injection</h4>  <p>The problem with the NerdDinner codebase is that, besides the constructor that accepts the required dependencies, they added a default constructor that news up those dependencies. Here is an example:</p>  <pre class="code"><span style="color: blue">public </span>DinnersController() : <span style="color: blue">this</span>(<span style="color: blue">new </span>DinnerRepository())<br />{<br />}<br /><br /><span style="color: blue">public </span>DinnersController(<span style="color: #2b91af">IDinnerRepository </span>repository) {<br />    dinnerRepository = repository;<br />}</pre><br /><br /><p>This may look like a good compromise. You get the decoupling needed to run your tests (by means of the constructor accepting parameters) and you are also able to instantiate you classes calling the default constructor, without the added complexity of an IoC container. However this technique is considered an <a href="http://www.lostechies.com/blogs/jimmy_bogard/archive/2009/07/03/how-not-to-do-dependency-injection-in-nerddinner.aspx">anti-pattern</a> (although <a href="http://devlicio.us/blogs/tim_barcz/archive/2009/07/12/why-there-s-nothing-wrong-with-dependency-injection-in-nerddinner.aspx">not everybody agrees</a>) <a href="http://www.lostechies.com/blogs/chad_myers/archive/2009/07/14/the-usual-result-of-poor-man-s-dependency-injection.aspx">leading to many headaches</a>. By adding this constructor we&#8217;re almost at square one again. Our classes are still coupled, and if we need to add new dependencies, we&#8217;ll have to go hunting around to fix all the constructor calls.</p><br /><br /><h4>If I were a rich man</h4><br /><br /><p>So now you are convinced to use an IoC container, you can have a look this <a href="http://www.lostechies.com/blogs/jimmy_bogard/archive/2008/09/12/some-ioc-container-guidelines.aspx">container guidelines</a> by <a href="http://www.lostechies.com/blogs/jimmy_bogard/default.aspx">Jimmy Bogard</a>. He may not consider his recommendations as best practices, but I do (and so should you, IMHO). I picked <a href="http://www.castleproject.org/container/gettingstarted/index.html">Castle Windsor</a> as my framework of choice. As usual, <a href="http://structuremap.sourceforge.net/">there</a> <a href="http://code.google.com/p/autofac/">are</a> <a href="http://ninject.org/">plenty</a>&#160;<a href="http://www.spring.net/">of</a> <a href="http://www.codeplex.com/unity">alternatives</a>. Even though the API is not the cleanest of all the frameworks, I favored Windsor because it is very mature, is widely adopted, it also supports .NET 2.0, and has good integration with NHibernate. It also is the container used in <a href="http://code.google.com/p/sharp-architecture/">S#arp Architecture</a>, which is something I will probably end up using. Otherwise, my choice would be <a href="http://structuremap.sourceforge.net/">StructureMap</a>.</p><br /><br /><p>In order to use Windsor, you have to reference on your project <em>Castle.Core</em>, <em>Castle.MicroKernel</em> and <em>Castle.Windsor</em>. To ease the configuration of the container, I also downloaded <a href="http://www.codeplex.com/MVCContrib">MvcContrib</a> (which I was planning to use anyway) and added a reference to <em>MvcContrib.Castle</em>.</p><br /><br /><p>This is the code needed to register the controllers and the Repository.</p><br /><br /><pre class="code"><span style="color: blue">private void </span>RegisterComponents()<br />{<br />    _container = <span style="color: blue">new </span><span style="color: #2b91af">WindsorContainer</span>();<br />    <span style="color: #2b91af">ControllerBuilder</span>.Current.SetControllerFactory(<br />        <span style="color: blue">new </span><span style="color: #2b91af">WindsorControllerFactory</span>(_container));<br />    _container.RegisterControllers(<span style="color: #2b91af">Assembly</span>.GetExecutingAssembly());<br />    _container.Register(<br />            <span style="color: #2b91af">Component</span>.For&lt;<span style="color: #2b91af">IDinnerRepository</span>&gt;()<br />            .ImplementedBy&lt;<span style="color: #2b91af">InMemoryDinnerRepository</span>&gt;());<br />}</pre><br /><br /><p>To allow the creation of the controllers by the MVC framework, you need to supply a ControllerFactory that can instantiate them, as they now take dependencies on their constructors. MvcContrib provides one for Windsor, as well as the method RegisterControllers to, guess what, registering all the controllers in a specified assembly. I also registered my DinnerRepository, so that Windsor can resolve the references to it.</p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/10/03/altnerddinner-part-1-removing-unwanted/">AltNerdDinner: Part 1. Removing unwanted dependencies</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-03T00:00:00+02:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>The first thing I have done is to set up the project on <a href="http://github.com/">github</a>, so if you want to have a look at the code, check the <a href="http://github.com/alberto/altnerddinner">AltNerdDinner repository</a>. Then I set up the project following the guidelines of my series <a href="http://sharpbites.blogspot.com/2009/09/road-to-continuous-integration.html">Continuous Integration series</a>.</p>  <p>Now we are set, there is some stuff I don&#8217;t want in AltNerdDinner, so I am mercilessly going to get rid of it.</p>  <h4>Bye, MSTest</h4>  <p>MSTest gives nothing useful beyond integration in VS (for which I prefer ReSharper&#8217;s Test Runner or TDD.NET). I won&#8217;t say it sucks, but <a href="http://haacked.com/archive/2007/09/04/should-microsoft-really-bundle-open-source-software.aspx">Phil Haack did</a>. It&#8217;s just there to satisfy MS-Only shops. It&#8217;s slow, and it evolves slowly too. It lags behind <a href="http://www.nunit.org/index.php">the</a>&#160;<a href="http://www.gallio.org/">alternative</a> <a href="http://www.codeplex.com/xunit">frameworks</a>. Oh, and it requires VS to be installed on your build server (crazy!), and&#8230; </p>  <p>So I replaced it with good ol&#8217;&#160; <a href="http://www.nunit.org/index.php">NUnit</a>. It basically involves replacing:</p>  <p>using Microsoft.VisualStudio.TestTools.UnitTesting; by using NUnit.Framework;</p>  <blockquote>   <p>[TestClass] and [TestMethod] by [TestFixture],&#160; and [Test]</p> </blockquote>  <p>and a bunch of calls to Assert.IsInstanceOfType(object, type); by Assert.IsInstanceOf(type, object); (pay attention to the signature change!).</p>  <h4>We don&#8217;t need no membership provider</h4>  <p>Right now I don&#8217;t want to deal with membership provider. I think it&#8217;s bloated and I don&#8217;t want to have to mess with the authentication right now, so I am going to replace it with a FakeMembershipService for the moment and leave the decision of whether revisiting it or completely replacing it (probably the latter) for a later time.</p>  <h4>LINQ to SQL is dead, long live NHibernate</h4>  <p>L2S is probably a decent option for this kind of simple app, and it&#8217;s very easy to quickly duct-tape a simple app. It has some goodies, like the visual designer and of course Linq. But it&#8217;s not the best option if your app gets bigger and you need some more advanced ORM features, like different mapping capabilities or different databases support. It&#8217;s not a bad tool, but it has <a href="http://codebetter.com/blogs/ian_cooper/archive/2008/07/01/architecting-linq-to-sql-part-10.aspx">some limitations</a> that need to be addressed and, unfortunately, the fact that <a href="http://www.infoq.com/news/2008/11/DLINQ-Future">L2S is being killed</a> means you are better not investing hard into it.</p>  <p>So I am planning to replace it with NHibernate, a mature and tested product&#160; that fits my needs. But just not yet. Right now, I will simply remove the L2S stuff and work with POCOs and an InMemoryRepository implementation (which is basically the FakeDinnerRepository present in the Tests project).</p>  <h5>The model</h5>  <p>As we can see on the picture of the original model, the domain is quite simple.<a href="http://lh3.ggpht.com/_kQ7iivKjVno/SseCJ_ZEG0I/AAAAAAAAAMQ/ehF8shEf9Dg/s1600-h/image11.png"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" border="0" alt="image" src="http://lh3.ggpht.com/_kQ7iivKjVno/SseCKvw9G1I/AAAAAAAAAMU/ft6vs8PlB_0/image_thumb9.png?imgmax=800" width="488" height="259" /></a></p>  <p>I have simply created POCO classes replacing the L2S generated ones.</p>  <p>After all the changes, we run all the tests and&#8230;</p>  <p><a href="http://lh5.ggpht.com/_kQ7iivKjVno/SseCLKN9WMI/AAAAAAAAAMY/KpeLlk_F18c/s1600-h/testsgreen2.jpg"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" border="0" alt="tests-green" src="http://lh5.ggpht.com/_kQ7iivKjVno/SseCL4M-ONI/AAAAAAAAAMc/Nr3Jv3PFVPc/testsgreen_thumb.jpg?imgmax=800" width="184" height="34" /></a></p>  <p>We&#8217;re done!</p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/28/road-to-continuous-integration-part-3/">The road to Continuous Integration. Part 3: Script it, build it, test it, break it, fix it. Commit it.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-28T00:00:00+02:00" pubdate data-updated="true">Sep 28<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Ideally, any new developer in your team should be able to build your project with a single command or double-click. To accomplish that, we are going to use a build script.  <br />You can also <a href="http://nant.sourceforge.net/">pick</a> <a href="http://msdn.microsoft.com/en-us/library/0k6kkbsd.aspx">your</a> <a href="http://rake.rubyforge.org/">poison</a> here, too. I am going to stick with nant for the moment, because it&#8217;s the most mature and broadly used, and the one I know better, despite of the <i>XMHell</i> that is the angle-bracket orgy it imposes. <a href="http://codebetter.com/blogs/david_laribee/archive/2008/08/25/omg-rake.aspx">Rake seems nice</a>, and has less noise than the others, but I don&#8217;t like the fact that I have to install ruby and rake separately. As I said, I like all of my dependencies being included in source control, so that my projects are self-contained (there are some efforts to get <a href="http://www.stephenbalkum.com/archive/2009/06/09/when-all-you-need-is-a-rake.aspx">ruby and rake as a single executable</a>, though). If you are hesitating between msbuild and nant, you can check out a <a href="http://sharpbites.blogspot.com/2008/09/nant-vs-msbuild.html">comparison between nant and msbuild</a> I did a while ago.  <br /><a href="http://lh5.ggpht.com/_kQ7iivKjVno/SsEIh_i4iCI/AAAAAAAAAME/oexhq-gr7N4/s1600-h/projectstructure10.jpg"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" border="0" alt="project-structure" align="left" src="http://lh6.ggpht.com/_kQ7iivKjVno/SsEIiowefII/AAAAAAAAAMI/TuxGRy-ffPI/projectstructure_thumb8.jpg?imgmax=800" width="155" height="244" /></a>  <br />As you can see on the picture, I have added two build scripts to the root of <a href="http://github.com/alberto/altnerddinner">AltNerdDinner</a>. <i><a href="http://github.com/alberto/altnerddinner/blob/master/common-targets.build">common-targets.build</a></i> has, you know, common nant targets. It&#8217;s a script I reuse between projects and it has all the tasks I usually execute (compile, recompile, publish or package the project, run the tests, analyze the code or binaries, etc). <i><a href="http://github.com/alberto/altnerddinner/blob/master/AltNerdDinner.build">AltNerdDinner.build</a></i> is the specific script for this project. By virtue of <a href="http://en.wikipedia.org/wiki/Convention_over_configuration">Convention over Configuration</a> on the project structure and directory and file names, we can remove a lot of unnecessary noise. By adhering to conventions, we just have to set up a couple of properties and simply delegate on common-targets.build for most (if not all) of the tasks, just defining the dependencies between tasks and passing parameters to configure the task where needed.  <br />  <br />You can see below how simple it gets, with only 16 lines of code:  <br />  <br />  <pre class="code"><span style="color: blue"></span><span style="color: blue"></span></pre><br /><a href="http://11011.net/software/vspaste"></a><br /><br /><pre class="code"><span style="color: blue">&lt;?</span><span style="color: #a31515">xml </span><span style="color: red">version</span><span style="color: blue">=</span>&quot;<span style="color: blue">1.0</span>&quot; <span style="color: blue">?&gt;<br />&lt;</span><span style="color: #a31515">project </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">AltNerdDinner</span>&quot; <span style="color: red">default</span><span style="color: blue">=</span>&quot;<span style="color: blue">compile</span>&quot;<span style="color: blue">&gt;<br />  &lt;</span><span style="color: #a31515">property </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">dir.root</span>&quot; <span style="color: red">value</span><span style="color: blue">=</span>&quot;<span style="color: blue">${path::get-full-path('.')}</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">include </span><span style="color: red">buildfile</span><span style="color: blue">=</span>&quot;<span style="color: blue">${dir.root}/common-targets.build</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">property </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">file.solution</span>&quot; <span style="color: red">value</span><span style="color: blue">=</span>&quot;<span style="color: blue">${dir.root}/NerdDinner.sln</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">property </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">file.project</span>&quot; <span style="color: red">value</span><span style="color: blue">=</span>&quot;<span style="color: blue">${dir.root}/src/NerdDinner/NerdDinner.csproj</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">property </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">assembly.tests</span>&quot; <span style="color: red">value</span><span style="color: blue">=</span>&quot;<span style="color: blue">NerdDinner.Tests.dll</span>&quot; <span style="color: blue">/&gt;<br /><br />  &lt;</span><span style="color: #a31515">target </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">compile</span>&quot; <span style="color: red">depends</span><span style="color: blue">=</span>&quot;<span style="color: blue">common.clean, common.init, common.compile</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">target </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">test</span>&quot; <span style="color: red">depends</span><span style="color: blue">=</span>&quot;<span style="color: blue">compile, common.test</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">target </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">publish</span>&quot; <span style="color: red">depends</span><span style="color: blue">=</span>&quot;<span style="color: blue">test, common.publish</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">target </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">zip</span>&quot; <span style="color: red">depends</span><span style="color: blue">=</span>&quot;<span style="color: blue">publish, common.zip</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">target </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">analyze</span>&quot; <span style="color: red">depends</span><span style="color: blue">=</span>&quot;<span style="color: blue">publish, common.stylecop, common.ndepend</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">target </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">build</span>&quot; <span style="color: red">depends</span><span style="color: blue">=</span>&quot;<span style="color: blue">publish, analyze</span>&quot; <span style="color: blue">/&gt;<br />  &lt;</span><span style="color: #a31515">target </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">build-full</span>&quot; <span style="color: red">depends</span><span style="color: blue">=</span>&quot;<span style="color: blue">publish, analyze, zip</span>&quot; <span style="color: blue">/&gt;<br />&lt;/</span><span style="color: #a31515">project</span><span style="color: blue">&gt;</span></pre><br /><a href="http://11011.net/software/vspaste"></a><br /><br /><p>There is also a <a href="http://github.com/alberto/altnerddinner/blob/master/go.bat">go.bat</a> script, which just calls nant, passing AltNerdDinner.build as the build file. As a side note, notice that my solution file is in the root of the project instead of in src. I like to keep it there so that I can easily refer to the root of the project from it (useful if you want to dome some pre/post build stuff on Visual Studio or for other tools than reference your solution).</p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/15/what-do-you-see-on-picture/">What do you see on the picture?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-15T00:00:00+02:00" pubdate data-updated="true">Sep 15<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<div class="separator" style="clear: both; float: left; text-align: center;"><a href="http://2.bp.blogspot.com/_kQ7iivKjVno/Sq9dG5dZPCI/AAAAAAAAAL8/Z4vqxop7-cY/s1600-h/monofinger.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_kQ7iivKjVno/Sq9dG5dZPCI/AAAAAAAAAL8/Z4vqxop7-cY/s320/monofinger.jpg" /></a></div><a href="http://monotouch.net/">Monotouch</a> 1.0 was released today. I was quite shocked when I saw the logo. Look at it for a second. What do you see there?<br />It might be my perturbated mind, but I was quite shocked when I felt it was &#8220;showing me the finger&#8221;. It actually took me a minute (I said I was shocked) to realize it was not <i>that </i>finger. Still, maybe that logo deserves a revamp. Just making clear the first finger is a thumb will suffice.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/13/road-to-continuous-integration-part-2/">The road to Continuous Integration. Part 2: Shake your tree</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-13T00:00:00+02:00" pubdate data-updated="true">Sep 13<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>As I stated in the <a href="http://sharpbites.blogspot.com/2009/09/road-to-continuous-integration-part-1.html">first part</a> of this <a href="http://sharpbites.blogspot.com/2009/09/road-to-continuous-integration.html">Continuous Integration series</a>, one of the aims of storing your stuff under source control is being able to build your project from a fresh checkout, without needing to manually install or configure anything.</p>  <p>To accomplish this, it is always useful to use a standardized tree structure. You can have a look at some of the popular open source projects you use and love to get ideas on how to organize things. Now that your have <a href="http://sharpbites.blogspot.com/2009/09/road-to-continuous-integration-part-1.html">everything under source control</a> (don&#8217;t you?), we can start moving a few things around.</p>  <p><img align="right" src="http://4.bp.blogspot.com/_kQ7iivKjVno/SpghIOjZSzI/AAAAAAAAALc/SkfsSCTd74E/s400/project-structure.jpg" /> On the picture you can see a very typical structure for a project.</p>  <p>The <strong>src</strong> folder contains the different projects in their respective folders.     <br />The <strong>lib</strong> folder will contain any third-party library needed to run our project. This is, any dependency that has to be deployed with our project (e.g. NHibernate, Windsor, etc).     <br /></p>  <p>The <strong>tools</strong> folders will contain any tools needed to build our project. It will contain tools like nant, nunit or fxcop, which we will use but won&#8217;t distribute with our application.     <br /></p>  <p>The <strong>build</strong> folder will hold the artifacts of the build.</p>  <p>   <br />Again, the purpose of putting all these libraries and frameworks under source control is to make EVERITHING needed to build and run your project available. Any new developer getting into your team should then be able to checkout your code and build it successfully, without needing to download and/or install anything from the Internet or hunt down any other dependencies your project builds upon. </p>  <p>If you need further info, I would recommend you to watch <a href="http://www.dimecasts.net/Casts/CastDetails/16">this screencast</a> by <a href="http://codebetter.com/blogs/kyle.baley/">Kyle &quot;Dissociative identity disorder&quot; Baley</a>.</p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/11/road-to-continuous-integration-part-1/">The road to Continuous Integration. Part 1: Get your source under control!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-11T00:00:00+02:00" pubdate data-updated="true">Sep 11<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p><a href="http://lh6.ggpht.com/_kQ7iivKjVno/Sqq2s0-EiHI/AAAAAAAAAL0/DFQJE0sWIhc/s1600-h/timemachine6.jpg"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" border="0" alt="time-machine" align="right" src="http://lh3.ggpht.com/_kQ7iivKjVno/Sqq2tpkGKTI/AAAAAAAAAL4/g1pf0RP_k7Q/timemachine_thumb6.jpg?imgmax=800" width="115" height="115" /></a> If you are not already doing so, put your stuff under source control. Right now. It doesn&#8217;t matter how small your project is or whether you are working alone. If it&#8217;s worth your time, it&#8217;s worth putting it under source control. </p>  <h4>What is Source Control?</h4>  <p>Source control, often referred to as VCS (Version Control System) or SCM (Source Code Management) is the management of changes in files. It&#8217;s a time machine that lets you see how your project looked like at any given point in time.</p>  <p>For a more detailed introduction, see <a href="http://www.ericsink.com/scm/source_control.html">Eric Sink&#8217;s Source Control HOWTO</a> or the <a href="http://svnbook.red-bean.com/nightly/en/index.html">SVN book</a>.</p>  <h4>Why you should use a SCM tool</h4>  <p>It gives you an infinite undo-button. No matter how much you have screwed up, you can always go back to a stable point.</p>  <p>You can share code with other people.</p>  <p>You can keep track of your changes over time. This allows you to know who changed what, when and (luckily, if you use meaningful comments) why.</p>  <p>You can maintain multiple code bases of your software. Even if you only have one active version at a time, it&#8217;s useful to start new development independently.</p>  <h4>What should you store?</h4>  <p>Everything you need to build your product. That includes your sources, of course, but also any libraries your projects depends on (avoid referencing GAC&#8217;ed or installed libraries), any tools you use and any scripts that you need as part of the process. Nothing should be dependent of your machine installation.</p>  <p>The goal is to be able to get into a clean machine, get a copy of the codebase from your source repository, build it (automatically) and voil&#224;, you are done and ready to start working!</p>  <h4>WHICH SCM ARE YOU?</h4>  <p><a href="http://subversion.tigris.org/">There</a> <a href="http://www.git-scm.org/">are</a> <a href="http://www.selenic.com/mercurial/">many</a> <a href="http://bazaar-vcs.org/">alternatives</a>, just pick one, (oh well, <a href="http://www.codinghorror.com/blog/archives/000660.html">not THAT one</a>). If you don&#8217;t want to set up and maintain a server, you can use <a href="http://code.google.com/">one</a> <a href="http://sourceforge.net">of</a> <a href="http://www.assembla.com">the</a> <a href="http://github.com/">many</a> <a href="http://bitbucket.org/">online</a> <a href="http://www.launchpad.net">services</a> <a href="http://www.codeplex.com">available</a> (some of them are just for open source projects, and some have free and paid plans). Which one is best will depend on your specific needs:</p>  <h5>If you&#8230;</h5>  <ul>   <li>want an easy to install, easy to start tool -&gt; svn </li>    <li>want a powerful tool, at the expense of a bit steeper learning curve -&gt; git, mercurial, bazaar </li>    <li>need to use a mature GUI/integration with Visual Studio -&gt; svn, tfs </li>    <li>need good branching and merging support -&gt; git, mercurial, bazaar </li>    <li>need an all-in-one tool (source control, bug tracking system, continuous integration) completely integrated, even if the individual tools are not-so-great for the -&gt; tfs </li>    <li>are a Microsoft-only shop -&gt; tfs </li> </ul>  <p>For the clients there are also a myriad of tools available for all platforms. You have command-line interfaces, standalone GUI tools (<a href="http://tortoisesvn.net/">tortoisesvn</a>, <a href="http://bitbucket.org/tortoisehg/stable/wiki/Home">tortoisehg</a>, <a href="http://code.google.com/p/tortoisegit/">tortoisegit</a>) and IDE integrated (<a href="http://www.visualsvn.com/">VisualSVN</a>, <a href="http://ankhsvn.open.collab.net/">AnhkSVN</a>, <a href="http://code.google.com/p/gitextensions/">Git Extensions</a>).</p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/08/agile-enterprise-culture/">Agile enterprise culture</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-08T00:00:00+02:00" pubdate data-updated="true">Sep 8<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<div style="width:425px;text-align:left" id="__ss_1798664"><a style="font:14px Helvetica,Arial,Sans-serif;display:block;margin:12px 0 3px 0;text-decoration:underline;" href="http://www.slideshare.net/reed2001/culture-1798664" title="Culture">Culture</a><object style="margin:0px" width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=culture9-090801103430-phpapp02&rel=0&stripped_title=culture-1798664" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=culture9-090801103430-phpapp02&rel=0&stripped_title=culture-1798664" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object><div style="font-size:11px;font-family:tahoma,arial;height:26px;padding-top:2px;">View more <a style="text-decoration:underline;" href="http://www.slideshare.net/">presentations</a> from <a style="text-decoration:underline;" href="http://www.slideshare.net/reed2001">Reed Hastings</a>.</div></div>Some highlights:<br /><blockquote>&#8220;The real company values, as opposed to the nice-sounding values, are shown by who gets rewarded, promoted or let-go&#8221;</blockquote><blockquote>&#8220;The Keeper Test: &#8216;Which of my people, if they told me they were leaving in two months for a similar job at a peer company, would I fight hard to keep?&#8217;&#8221;</blockquote><blockquote>&#8220;You should periodically ask your manager: &#8216;If I told you I were leaving, how hard would you work to change my mind?&#8217;&#8221;</blockquote><blockquote>&#8220;In procedural work, the best are 2x better than the average.&#8221;</blockquote><blockquote>&#8220;In creative work, the best are 10x better than the average, so huge premium on creating effective teams of the best&#8221;</blockquote><blockquote>&#8220;Vacation policy and Tracking: there is no policy or tracking&#8221;</blockquote><blockquote>&#8220;One outstanding employee gets more done and costs less than two adequate employees&#8221;</blockquote><blockquote>&#8220;It is a good idea, not a traitorous idea, to understand what other firms would pay you, by interviewing and talking to peers at other companies&#8221;</blockquote><blockquote>Three Tests for Top of Market for a Person:<br />1. What could person get elsewhere?<br />2. What would we pay for replacement?<br />3. What would we pay to keep person?<br /></blockquote><blockquote>&#8220;We should celebrate someone leaving for a bigger job that we didn&#8217;t have available to offer them&#8221;</blockquote><blockquote>&#8220;If manager would promote employee to keep them [&#8230;], manager should promote him now, and not wait&#8221;</blockquote><blockquote>&#8220;Mediocre colleagues and unchallenging work is what kills progress of a person&#8217;s skills&#8221;</blockquote></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/01/road-to-continuous-integration/">The road to continuous integration</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-01T00:00:00+02:00" pubdate data-updated="true">Sep 1<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p><img style="border-bottom: 0px; border-left: 0px; border-top: 0px; border-right: 0px" border="0" alt="road" align="right" src="http://lh6.ggpht.com/_kQ7iivKjVno/Ssd0pucIX_I/AAAAAAAAAMM/KxJlsxekJj8/carretera%5B1%5D.jpg?imgmax=800" width="244" height="177" /> After my introductory post in the <a href="http://sharpbites.blogspot.com/2009/08/introducing-altnerddinner.html">AltNerdDinner</a> series, I thought it would be a good idea to roll out an independent series of posts about the things I have learnt in the past two years on setting up a code base for continuous integration. Nothing really new under the sun, but it might help a few people to get started.    <br />I will update this post with links backs to each element of the series.    <br /><a href="http://sharpbites.blogspot.com/2009/09/road-to-continuous-integration-part-1.html">Part 1: Get your source under control</a></p>  <p><a href="http://sharpbites.blogspot.com/2009/09/road-to-continuous-integration-part-2.html">Part 2: Shake your tree</a></p>  <p><a href="http://sharpbites.blogspot.com/2009/09/road-to-continuous-integration-part-3.html">Part 3: Script it, build it, test it, break it, fix it. Commit it</a></p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/08/27/introducing-altnerddinner/">Introducing AltNerdDinner</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-27T00:00:00+02:00" pubdate data-updated="true">Aug 27<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>This is the first in a series of posts in my quest to get my hands dirty with ASP.NET MVC framework, MVCContrib, Spark, NHibernate, FluentNhibernate, Linq2NHibernate, Windsor and a whatnot. For that, I have decided to take <a href="http://nerddinner.codeplex.com/">NerdDinner</a> for a spin (not extremely original, I know), replacing what I think could be better and extending from there. If you are interested, you can have a look at the <a href="http://github.com/alberto/altnerddinner">AltNerdDinner repository</a> on github.</p>  <p>Here is a list of the posts published so far:</p>  <p><a href="http://sharpbites.blogspot.com/2009/10/altnerddinner-part-1-removing-unwanted.html">Part 1: Removing unwanted dependencies</a></p>  <p><a href="http://sharpbites.blogspot.com/2009/10/altnerddinner-part-2-rich-man.html">Part 2: Rich Man&#8217;s Dependency Injection</a></p>  <p><a href="http://sharpbites.blogspot.com/2009/10/altnerddinner-part-3-introducing-fluent.html">Part 3: Introducing Fluent NHibernate. Mapping, the easy way</a></p>  <p><a href="http://sharpbites.blogspot.com/2009/10/altnerdinner-part-4-introducing.html">Part 4: Introducing NHibernate. Because POCO is enough</a></p>  </div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/04/22/a-week-at-becode-day-1-anarchy-in-the-uk/">A week at BeCode. Day 1: Anarchy in the UK</a>
      </li>
    
      <li class="post">
        <a href="/2013/04/21/a-week-at-becode-day-0-hey-ho-lets-go/">A week at BeCode. Day 0: Hey Ho! Let&#8217;s go!</a>
      </li>
    
      <li class="post">
        <a href="/2012/09/19/enabling-mysqls-federated-engine-slash-plugin-on-mac-os-x/">Enabling Mysql&#8217;s Federated engine/plugin on Mac OS X</a>
      </li>
    
      <li class="post">
        <a href="/2012/07/02/an-introduction-to-the-ruby-ecosystem-for-noobies/">An introduction to the ruby ecosystem for noobies</a>
      </li>
    
      <li class="post">
        <a href="/2012/03/04/rails-start-1-month-ago/">rails.start 1.month.ago</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/alberto">@alberto</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'alberto',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("sharpbites", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/sharpbites" class="twitter-follow-button" data-show-count="false">Follow @sharpbites</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - alberto -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sharpbites';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
